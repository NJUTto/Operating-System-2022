---
layout: page
title: "homework8"
permalink: /homework/10/
---

<head>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      extensions: ["tex2jax.js"],
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          processRefs: true,
          processEnvironments: true
      },
      TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</head>

# P332: Problems 7.12, 7.14, 7.15, P392: Problems 8.1, 8.4, 8.5 (8th Edition)

**7.12** Consider a simple paging system with the following parameters: $2^{32}$ bytes of physical memory; page size of $2^{10}$ bytes; $2^{16}$ pages of logical address space. 
- a. How many bits are in a logical address?
- b. How many bytes in a frame?
- c. How many bits in the physical address specify the frame?
- d. How many entries in the page table?
- e. How many bits in each page table entry? Assume each page table entry contains a valid/invalid bit.

**7.14** Consider a simple segmentation system that has the following segment table:
| Starting Addres | Length(bytes) |
| - | - |
| 600 | 248 |
| 1,752 | 422 |
| 222 | 198 |
| 996 | 604 |

For each of the following logical addresses, determine the physical address or indicate if a segment fault occurs:
- a. 0,198
- b. 2,156
- c. 1, 530 
- d. 3,444 
- e. 0,222


**7.15** Consider a memory in which contiguous segments $S_1, S_2, \cdots, S_n$ are placed in their order of creation from one end of the store to the other, as suggested by the following figure:

<img src="https://s2.loli.net/2022/11/23/XW9cuefZQxwBb4v.png" width="600">

When segment $S_{n+1}$ is being created, it is placed immediately after segment Sn even though some of the segments $S_1, S_2, \cdots, S_n$ may already have been deleted. When the boundary between segments (in use or deleted) and the hole reaches the other end of the memory, the segments in use are compacted.
- a. Show that the fraction of time F spent on compacting obeys the following inequality:
    - $$ F \geq \frac{1-f}{1+kf} ~\text{where}~ k = \frac{t}{2s} -1$$
    - where
        - $s$ = average length of a segment, in words
        - $t$ = average lifetime of a segment, in memory references
        - $f$ = fraction of the memory that is unused under equilibrium conditions
    > Hint: Find the average speed at which the boundary crosses the memory and assume that the copying of a single word requires at least two memory references.
- b. Find $F$ for $f = 0.2,t = 1,000$ ,and $s = 50$.

**8.1** Suppose the page table for the process currently executing on the processor looks like the following. All numbers are decimal, everything is numbered starting from zero, and all addresses are memory byte addresses. The page size is 1,024 bytes.

<img src="https://s2.loli.net/2022/11/23/vHgIFEe5yb7N9Jm.png" width=600>

- a. Describe exactly how, in general, a virtual address generated by the CPU is translated into a physical main memory address.

- b. What physical address, if any, would each of the following virtual addresses correspond to? (Do not try to handle any page faults, if any.)
    - (i) 1,052
    - (ii) 2,221
    - (iii) 5,499

**8.4** Consider the following string of page references 7, 0, 1, 2, 0, 3, 0, 4, 2, 3, 0, 3, 2. Complete a figure similar to Figure 8.14, showing the frame allocation for:
- a. FIFO (first-in-first-out)
- b. LRU (least recently used)
- c. Clock
- d. Optimal (assume the page reference string continues with 1, 2, 0, 1, 7, 0, 1)
- e. List the total number of page faults and the miss rate for each policy. Count page faults only after all frames have been initialized.

Figure 8.14:
<img src="https://s2.loli.net/2022/11/23/u4lzCxVtLDkQdFw.png" width=600>

**8.5** A process references five pages, A, B, C, D, and E, in the following order:

<center> A; B; C; D; A; B; E; A; B; C; D; E </center>

Assume that the replacement algorithm is first-in-first-out and find the number of page transfers during this sequence of references starting with an empty main memory with three page frames. Repeat for four page frames.